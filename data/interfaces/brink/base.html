<%
	import headphones
	from headphones import version
%>
<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Headphones - ${title}</title>
	<meta name="description" content="">
	<meta name="author" content="">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
	<link rel="shortcut icon" href="../images/favicon.ico">
	<link rel="apple-touch-icon" href="../images/headphoneslogo.png">
	<!--Main Stylesheet-->
	<link rel="stylesheet" href="interfaces/brink/CSS/style.css">
	<!-- Theme style -->
	<link rel="stylesheet" href="interfaces/brink/css/theme/default.css">

	<!--Jquery APIs-->
	<script src="../js/libs/jquery.min.js"></script>
	<script src="../js/libs/jquery-ui.min.js"></script>
	
	<!--Jquery UI CSS-->
	<link rel="stylesheet" href="interfaces/brink/CSS/jquery-ui-1.8.21.custom.css">
		
	<!--Ajax Form-->
	<script src="interfaces/brink/js/libs/jquery.form.js"></script>
	
	<!--Noty-->
	<script type="text/javascript" src="interfaces/brink/js/libs/jquery.noty.js" ></script>
	<link rel="stylesheet" href="interfaces/brink/css/libs/jquery.noty.css">
	<link rel="stylesheet" href="interfaces/brink/css/libs/noty_theme_default.css">
	
	<!--Global Script-->
	<script src="interfaces/brink/js/script.js"></script>
	
	<!--jScrollPane-->
	<link type="text/css" href="interfaces/brink/css/jquery.jscrollpane.css" rel="stylesheet" media="all" />
	<script type="text/javascript" src="interfaces/brink/js/libs/jquery.jscrollpane.min.js" ></script>
	<script type="text/javascript" src="interfaces/brink/js/libs/jquery.mousewheel.js" ></script>
	<!--Datatables-->
	<script type="text/javascript" src="interfaces/brink/js/libs/jquery.dataTables.min.js" ></script>
	<link rel="stylesheet" href="interfaces/brink/CSS/dataTable.css">
		
	<script type="text/javascript">
		
		$(window).resize(function(){
			mainResize();
			mainScroll();
		});
		$(document).ready(function(){
			mainResize();
			mainScroll();
		});
		$('#main').resize(function(){
			mainScroll();
		});
	</script>
		
	${next.headIncludes()}
	
	<script src="js/libs/modernizr-1.7.min.js"></script>
</head>
<body>
	% if not headphones.CURRENT_VERSION:
		<script type="text/javascript">
			noty({
				"text":"You're running an unknown version of Headphones.<br />It's recommended that you update now!",
				"type":"success",
				buttons: [
				  {type: 'button green', text: 'Update', click: function($noty) {

						// this = button element
						// $noty = $noty element

						$(this).click(function(){
							document.location.href='update';
						});
						$noty.close
					  noty({force: true, text: 'Headphones is now updating, please be patient', type: 'success'});
					}
				  },
				  {type: 'button pink', text: 'Cancel', click: function($noty) {
					  $noty.close();
					  noty({force: true, text: 'You can update anytime from the tools menu', type: 'error'});
					}
				  }
				  ],
				closable: false,
				timeout: false
			});
		</script>
	% elif headphones.CURRENT_VERSION != headphones.LATEST_VERSION and headphones.INSTALL_TYPE != 'win':
		<script>
			noty({
				"text":"A newer version is available."
								+ "<br />You're ${headphones.COMMITS_BEHIND} commits behind"
								+ "<a href='http://github.com/rembo10/headphones/compare/${headphones.CURRENT_VERSION}...${headphones.LATEST_VERSION}'>Version</a>"
								+ "<a href='update'>Update</a>",
				"type":"success"
			});
		</script>
	% endif
	<div class="custom_container"></div>
	<table id="table_body">
		<tr>
			<td id="header" colspan="2">
				<div id="logo">
					<a href="home"><img src="../images/headphoneslogo.png" alt="headphones"/>Headphones</a>
				</div>
				${next.headerIncludes()}
				<div id="searchbar">
					<form action="search" method="get" class="jqtransform">
						<input type="text" value="" onfocus="if(this.value==this.defaultValue) this.value='';" name="name" accesskey="s" placeholder="Search..." />
						<select class="styled" name="type">
							<option value="artist">Artist</option>
							<option value="album">Album</option>
						</select>
						<input class="submit" type="submit" value="GO"/>
					</form>
				</div>
			</td>
		</tr>
		<tr>
			<td id="nav-container">
				<ul id="nav">
					<li><a href="home" accesskey="1">Home</a></li>
					<li><a href="upcoming" accesskey="2">Upcoming</a></li>
					<li><a href="extras" accesskey="3">Suggestions</a></li>
					<li><a href="manage" accesskey="4">Manage</a></li>
					<li><a href="history" accesskey="5">History</a></li>
					<li><a href="logs" accesskey="6">Logs</a></li>
					<li><a href="config" accesskey="7">Settings</a></li>
				</ul>
			</td>
			<td id="content-container">
				<div id="main" class="main">
				${next.body()}
				</div>
			</td>
		</tr>
		<tr id="footer" >
			<td colspan="2">
				<div id="options">
					<ul>
						<li>Options
							<ul>
								<li><a href="forceSearch" title="Refresh/Update">Wanted Albums</a></li>
								<li><a href="forceUpdate" title="Refresh/Update">Active Artists</a></li>
								<li><a href="forcePostProcess" title="Refresh/Update">Post-Process</a></li>
								<li><a href="checkGithub" title="Refresh/Update">Headphones Updates</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</td>
		</tr>
	</table>
</script>
	<!--[if lt IE 7 ]>
	<script src="js/libs/dd_belatedpng.js"></script>
	<script> DD_belatedPNG.fix('img, .png_bg');</script>
	<![endif]-->
</body>
</html>

<%def name="javascriptIncludes()"></%def>
<%def name="headIncludes()"></%def>
<%def name="headerIncludes()"></%def>
