<%inherit file="base.html"/>
<%!
    import headphones
%>

<%def name="headIncludes()">
    <link rel="stylesheet" href="css/config.css" /> 
</%def>
<<<<<<< HEAD
<%def name="body()">
	<div id="paddingheader">
		<h1><h1>
	</div>
	<div class="table_wrapper">
		<form action="configUpdate" method="post">
        <a name="web_interface"><h1><u>Web Interface</u></h1></a>

        <table class="configtable" summary="Web Interface">
            <tr>
                <td>
                  <h3>HTTP Host:</h3>
                    <input type="text" name="http_host" value="${config['http_host']}" size="30" maxlength="40"><br>
                    <i class="smalltext">i.e. localhost or 0.0.0.0</i>
                </td>
                <td>
                    <h3>HTTP Username:</h3>
                    <input type="text" name="http_username" value="${config['http_user']}" size="30" maxlength="40">
                </td>
            </tr>

            <tr>
                <td>
                      <h3>HTTP Port:</h3>
                      <input type="text" name="http_port" value="${config['http_port']}" size="10" maxlength="40">
                </td>

                <td>
                      <h3>HTTP Password:</h3>
                      <input type="password" name="http_password" value="${config['http_pass']}" size="30" maxlength="40">
                </td>
            </tr>

            <tr>
                <td>
                    <h3>Launch Browser on Startup: <input type="checkbox" name="launch_browser" value="1" ${config['launch_browser']} /></h3>
                </td>
            </tr>
        </table>
	</div>
	<div class="table_wrapper">
        <a name="download"><h1><u>Download Settings</u></h1></a>
        <table class="configtable" summary="Download Settings">
	    <tr>
                <td>
                    <h2>SABnzbd:</h2>
                </td>
            </tr>
            <tr>
                <td>
                    <h3>SABnzbd Host:</h3><input type="text" name="sab_host" value="${config['sab_host']}" size="30" maxlength="40"><br>

                    <i class="smalltext">usually http://localhost:8080</i>
                </td>
=======
>>>>>>> martynhaigh/configUpdate

<%def name="headerIncludes()">
    <div id="subhead_container">
        <ul id="subhead_menu">
            <li>
                <a class="current" href="#web_interface">
                    Web Interface
                </a>
            </li>
            <li>
                <a href="#download">
                    Download Settings
                </a>
            </li>
            <li>
                <a href="#providers">
                    Search Providers
                </a>
            </li>
            <li>
                <a href="#post_processing">
                    Quality &amp; Post Processing
                </a>
            </li>
            <li>
                <a href="#advanced_settings">
                    Advanced Settings
                </a>
            </li>
        </ul>
    </div>
    <div id="pagemenu_container">
        <ul id="page_menu">
            <li>
                <a href="shutdown">
                    Shut Down
                </a>
            </li>
            <li>
                <a href="restart">
                    Restart
                </a>
            </li>
        </ul>
    </div> 

</%def>
<%def name="body()">

    <form action="configUpdate" method="post">
        <input type="hidden" name="selected_tab" id="selected_tab" />

        <div class="panes">
            <span class="navigation next"> 
                    <p class="top"> NEXT </p>
                    <p class="bottom"> NEXT </p>
            </span>  
            <span class="navigation previous"> 
                    <p class="top"> PREVIOUS </p>
                    <p class="bottom"> PREVIOUS </p>
            </span>           
            <div style="display: block;" name="web_interface">
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Web Interface
                        </legend>
                        <p class="legend_description">
                            It is recommended that you enable a username and password to secure Headphones from being tampered with remotely.<br />
                            <br />Some options may require a manual restart to take effect.
                        </p>
                    </div>
                    <div class="form_content">
                        <dl>
                            <dt>
                                <label for="http_host">
                                    HTTP Host:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" name="http_host" id="http_host" value="${config['http_host']}" maxlength="40" title="i.e. localhost or 0.0.0.0"/>
                            </dd>
                    </dl>
                        <dl>
                            <dt>
                                <label for="http_port">
                                    HTTP Port:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" name="http_port" id="http_port" value="${config['http_port']}" maxlength="6" size="10"/>
                            </dd>
                        </dl>
                        <dl>
                            <dt>
                                <label for="http_username">
                                    HTTP Username:
                                    </label>
                            </dt>
                            <dd>
                                <input type="text" name="http_username" id="http_username" value="${config['http_user']}" maxlength="40" />
                            </dd>
                        </dl>
                        <dl>
                            <dt>
                                <label for="http_password">
                                    HTTP Password:
                                </label>
                            </dt>
                            <dd>
                                <input type="password" name="http_password" id="http_password" value="${config['http_pass']}"maxlength="40" />
                            </dd>
                        </dl>
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Extras
                        </legend>
                    </div>
                    <div class="form_content">
                        <dl>
                            <dt>
                                <label for="launch_browser">
                                    Launch Browser on Startup:
                                </label>
                            </dt>
                                <dd>
                                <input type="checkbox" name="launch_browser" id="launch_browser" value="1" ${config['launch_browser']}  />
                            </dd>
                        </dl>
                    </div>
                </fieldset>     

            

    
            </div>
            <div>
                <fieldset>
                    <div class="form_description">
                        <legend
                            Download Settings
                        </legend>
                        <p class="legend_description">
                            Set how Headphones deals with NZB files
                        </p>
                    </div>                
                    <div class="form_content">
                        <dl>
                            <dt>
                                <label for="nzb_handler">
                                    NZB handler:
                                </label>
                            </dt>
                                <dd>
                                    <select id="nzb_handler" name="nzb_handler">
                                
                                    %for nzb_handler in config['nzb_handler_list']:
                                    <%
                                            if nzb_handler == headphones.NZB_HANDLER:
                                                    selected = 'selected="selected"'
                                            else:
                                                    selected = ''
                                    %>
                                        <option value="${nzb_handler}" ${selected}>
                                            ${nzb_handler}
                                        </option>
                                    %endfor
                                </select>
                            </dd>
                        </dl>
                    </div>
                 </fieldset>     
                 <div id="handler_sections">
                    <fieldset id="sab_download">   
                        <div class="form_description">
                            <legend>
                                SABnzbd
                            </legend>
                            <p class="legend_description">
                                Setup SABnzbd to download the NZB files
                            </p>
                        </div>                     
                        <div class="form_content">
                            <dl>
                                <dt>
                                    <label for="sab_host">
                                        SABnzbd Host:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="sab_host" id="sab_host" value="${config['sab_host']}"  maxlength="40" title="Usually http://localhost:8080" />
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="sab_username">
                                        SABnzbd Username:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="sab_username" id="sab_username" value="${config['sab_user']}"  maxlength="40" />
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="sab_apikey">
                                        SABnzbd API:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="sab_apikey" id="sab_apikey" value="${config['sab_api']}"  maxlength="40" />
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="sab_password">
                                        SABnzbd Password:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="password" name="sab_password" id="sab_password" value="${config['sab_pass']}"  maxlength="40" />
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="sab_category">
                                        SABnzbd Category:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="sab_category" id="sab_category" value="${config['sab_cat']}"  maxlength="40" />
                                </dd>
                            </dl>
                            <dl>
                                <dt>
                                    <label for="download_dir">
                                        Music Download Directory:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="download_dir" id="download_dir" value="${config['download_dir']}" title="Full path to the directory where SAB downloads your music<br />i.e. /Users/name/Downloads/music" maxlength="40" />
                                </dd>
                            </dl>
                        </div>
                    </fieldset>   
                    <fieldset id="black_hole_download"> 
                        <div class="form_description">
                            <legend>
                                Black Hole
                            </legend>
                            <p class="legend_description">
                                Send the NZB files to a black hole
                            </p>
                        </div>                     
                        <div class="form_content">    
                            <dl>
                                <dt>
                                    <label for="blackhole_dir">
                                        Black Hole Directory:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="blackhole_dir" id="blackhole_dir" value="${config['blackhole_dir']}" title="Folder your Download program watches for NZBs" maxlength="40" />
                                </dd>
                            </dl> 
                        </div>
                    </fieldset>                      
                </div>
                 <fieldset>   
                    <div class="form_description">
                        <legend>
                            Extras
                        </legend>
                        <p class="legend_description">
                            Other settings
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="usenet_retention">
                                    Usenet Retention:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" name="usenet_retention" id="usenet_retention" value="${config['usenet_retention']}" maxlength="40" />
                            </dd>
                        </dl>  
                    </div>
                </fieldset>                 
            </div>
            <div> 
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Search Providers
                        </legend>
                        <p class="legend_description">
                            At least one provider is required but two are recommended.
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="nzbmatrix">
                                    Enable NZBMatrix:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" name="nzbmatrix" id="nzbmatrix" value="1" ${config['use_nzbmatrix']} />
                            </dd>
                        </dl>  

                        <div id="nzbmatrix_details" class="extra_detail">
                            <dl>
                                <dt>
                                    <label for="nzbmatrix_username">
                                        Username:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="nzbmatrix_username" id="nzbmatrix_username" value="${config['nzbmatrix_user']}" maxlength="40" />
                                </dd>
                            </dl> 
                            <dl>
                                <dt>
                                    <label for="nzbmatrix_apikey">
                                        API Key:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="nzbmatrix_apikey" id="nzbmatrix_apikey" value="${config['nzbmatrix_api']}" maxlength="40" title="Located in the <a href='http://nzbmatrix.com/account.php'>Account Page</a> on NZBMatrix" />
                                </dd>
                            </dl> 
                        </div>

<<<<<<< HEAD
            <tr>
                <td>
                    <h3>Usenet Retention:<input type="text" name="usenet_retention" value="${config['usenet_retention']}" size="20" maxlength="40"></h3>
                </td>
            </tr>
            
            
		<tr>
                <td>
                    <br><br><br><br><h2>Torrent:</h2>
                </td>
            </tr>

		<tr>
                <td>
                    <h3>Black Hole Directory:</h3><input type="text" name="torrentblackhole_dir" value="${config['torrentblackhole_dir']}" size="50"><br>

                    <i class="smalltext">Folder your Download program watches for Torrents</i>
                </td>

                <td>
                    <h3>Minimum seeders:</h3><input type="text" name="numberofseeders" value="${config['numberofseeders']}" size="5"><br>

                    <i class="smalltext">Number of minimum seeders a torrent must have to be accepted</i>
                </td>
            </tr>

		<tr>
                <td>
                    <h3>Music Download Directory:</h3><input type="text" name="download_torrent_dir" value="${config['download_torrent_dir']}" size="50"><br>

                    <i class="smalltext">Full path to the directory where your torrent client downloads your music<br>
                    i.e. /Users/name/Downloads/music</i>
                </td>

                <td></td>
            </tr>
        </table>
	</div>
	<div class="table_wrapper">
        <a name="providers"><h1><u>Search Providers</u></h1></a>
        <table class="configtable" summary="Search Providers">
	    <tr>
                <td>
                    <h2>SABnzbd:</h2>
                </td>
            </tr>
            <tr>
                <td id="middle">
                    <h3>NZBMatrix: <input type="checkbox" name="nzbmatrix" value="1" ${config['use_nzbmatrix']} /></h3>
                </td>
=======
                        <dl>
                            <dt>
                                <label for="nzbsorg">
                                    Enable NZBs.org:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" name="nzbsorg" id="nzbsorg" value="1" ${config['use_nzbsorg']} />
                            </dd>
                        </dl> 
                        <div id="nzbsorg_details" class="extra_detail">
                            <dl>
                                <dt>
                                    <label for="nzbsorg_uid">
                                        UID:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="nzbsorg_uid" id="nzbsorg_uid" value="${config['nzbsorg_uid']}" maxlength="40" />
                                </dd>
                            </dl> 
                            <dl>
                                <dt>
                                    <label for="nzbsorg_hash">
                                        Hash:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="nzbsorg_hash" id="nzbsorg_hash" value="${config['nzbsorg_hash']}" maxlength="40" />
                                </dd>
                            </dl> 
                        </div>
>>>>>>> martynhaigh/configUpdate

                        <dl>
                            <dt>
                                <label for="newzbin">
                                    Enable Newzbin:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" name="newzbin" id="newzbin" value="1" ${config['use_newzbin']} />
                            </dd>
                        </dl> 
                        <div id="newzbin_details" class="extra_detail">
                            <dl>
                                <dt>
                                    <label for="newzbin_uid">
                                        UID:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="newzbin_uid" id="newzbin_uid" value="${config['newzbin_uid']}" maxlength="40" />
                                </dd>
                            </dl> 
                            <dl>
                                <dt>
                                    <label for="newzbin_password">
                                        Password:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="newzbin_password" id="newzbin_password" value="${config['newzbin_pass']}" maxlength="40" />
                                </dd>
                            </dl> 
                        </div>


                        <!--dl>
                            <dt>
                                <label for="newznab">
                                    Enable Newznab:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" name="newznab" id="newznab" value="1" ${config['use_newznab']} />
                            </dd>
                        </dl> 
                        <div id="newznab_details" class="extra_detail">
                            <dl>
                                <dt>
                                    <label for="newznab_host">
                                        Host:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="newznab_host" id="newznab_host" value="${config['newznab_host']}" maxlength="40" title="i.e. http://nzb.su"/>
                                </dd>
                            </dl> 
                            <dl>
                                <dt>
                                    <label for="newznab_apikey">
                                        API Key:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="text" name="newznab_apikey" id="newznab_apikey" value="${config['newznab_api']}" maxlength="40" />
                                </dd>
                            </dl> 
                        </div-->  
                        <div id="newznab_template" style="display:none;">
                            <fieldset>  
                                <div class="form_description">
                                    <legend>
                                        Newznab:<br />NAME
                                    </legend>
                                    <p class="legend_description">
                                        
                                    </p>
                                </div>                     
                                <div class="form_content"> 
                                    <dl>
                                        <dt>
                                            <label for="newznab_host">
                                                Host:
                                            </label>
                                        </dt>
                                        <dd>
                                            <input type="text" name="newznab_host" id="newznab_host" value="URL" maxlength="40" title="i.e. http://nzb.su"/>
                                        </dd>
                                    </dl> 
                                    <dl>
                                        <dt>
                                            <label for="newznab_apikey">
                                                API Key:
                                            </label>
                                        </dt>
                                        <dd>
                                            <input type="text" name="newznab_apikey" id="newznab_apikey" value="APIKEY" maxlength="40" />
                                        </dd>
                                    </dl>  
                                     <dl>
                                        <dt>
                                            <label for="newznab_delete">
                                                Delete Site:
                                            </label>
                                        </dt>
                                        <dd>
                                            <input type="button" name="newznab_delete" id="newznab_delete" value="APIKEY" maxlength="40" />
                                        </dd>
                                    </dl>                                    
                                </div>
                            </fieldset>
                        </div>
                        <input id="add_newznab_button" rel="#add_newznab" type="button" value="Add Newznab Site" />

                    </div>
                </fieldset>
                
                <div id="newznab_site_container">
                </div>

            </div>
            <div> 
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Album Quality
                        </legend>
                        <p class="legend_description">
                            Other settings
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="highest_quality_exc_lossless">
                                    Highest Quality excluding Lossless:
                                </label>
                            </dt>
                            <dd>
                                <input type="radio" id="highest_quality_exc_lossless" name="preferred_quality" value="0" ${config['pref_qual_0']} />
                            </dd>
                        </dl>  
                        <dl>
                            <dt>
                                <label for="highest_quality_inc_lossless">
                                    Highest Quality including Lossless:
                                </label>
                            </dt>
                            <dd>
                                <input type="radio" id="highest_quality_inc_lossless" name="preferred_quality" value="1" ${config['pref_qual_1']} />
                            </dd>
                        </dl>  
                        <dl>
                            <dt>
                                <label for="lossless">
                                    Lossless Only:
                                </label>
                            </dt>
                            <dd>
                                <input type="radio" id="lossless" name="preferred_quality" value="2" ${config['pref_qual_2']} />
                            </dd>
                        </dl>  
                        <dl>
                            <dt>
                                <label for="preferred_bitrate">
                                    Preferred Bitrate:
                                </label>
                            </dt>
                            <dd>
                                <input type="radio" id="preferred_bitrate" name="preferred_quality" value="3" ${config['pref_qual_3']} />
                            </dd>
                        </dl>  
                        <div id="preferred_bitrate_details" class="extra_detail">
                            <dl>
                                <dt>
                                    <label for="detect_bitrate">
                                        Auto-Detect Preferred Bitrate:
                                    </label>
                                </dt>
                                <dd>
                                    <input type="checkbox" id="detect_bitrate" name="detect_bitrate" value="1" ${config['detect_bitrate']} />
                                </dd>
                            </dl>     
                             <div id="detect_bitrate_details" class="extra_detail">
                                <dl>
                                    <dt>
                                        <label for="preferred_bitrate_input">
                                            Preferred Bitrate:
                                        </label>
                                    </dt>
                                    <dd>
                                        <input type="text" id="preferred_bitrate_input" name="preferred_bitrate" value="${config['pref_bitrate']}"  maxlength="5" />
                                        kbps
                                    </dd>
                                </dl> 
                            </div>
                        </div>
                    </div>
                </fieldset> 
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Post-Processing
                        </legend>
                        <p class="legend_description">
                            Settings which adjust how Headphones should process completed downloads.
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="move_files">
                                    Move downloads to Destination Folder:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="move_files" name="move_files" value="1" ${config['move_files']} />
                            </dd>
                        </dl> 
                        <dl>
                            <dt>
                                <label for="rename_files">
                                    Rename files:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="rename_files" name="rename_files" value="1" ${config['rename_files']} />
                            </dd>
                        </dl>    
                        <dl>
                            <dt>
                                <label for="correct_metadata">
                                    Correct metadata:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="correct_metadata" name="correct_metadata" value="1" ${config['correct_metadata']} />
                            </dd>
                        </dl>     
                        <dl>
                            <dt>
                                <label for="cleanup_files">
                                    Delete leftover files:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="cleanup_files" name="cleanup_files" value="1" ${config['cleanup_files']} title="Deletes files normally found in downloaded archives (.m3u, .nfo, .sfv, .nzb, etc.)" />
                            </dd>
                        </dl> 
                           
                        <dl>
                            <dt>
                                <label for="add_album_art">
                                    Add album art as 'folder.jpg' to album folder:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="add_album_art" name="add_album_art" value="1" ${config['add_album_art']} />
                            </dd>
                        </dl>  
                        <dl>
                            <dt>
                                <label for="embed_album_art">
                                    Embed album art in each file:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="embed_album_art" name="embed_album_art" value="1" ${config['embed_album_art']} />
                            </dd>
                        </dl>   
                        <dl>
                            <dt>
                                <label for="embed_lyrics">
                                    Embed lyrics:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="embed_lyrics" name="embed_lyrics" value="1" ${config['embed_lyrics']} />
                            </dd>
                        </dl>  
                    </div>
                </fieldset> 
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Extras
                        </legend>
                        <p class="legend_description">
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="destination_dir">
                                    Path to Destination folder:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" id="destination_dir" name="destination_dir" value="${config['dest_dir']}" title="i.e. /Users/name/Music/iTunes or /Volumes/share/music" />
                            </dd>
                        </dl>   
                    </div>
                </fieldset>

            </div>
            <div> 
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Renaming Options
                        </legend>
                        <p class="legend_description">
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="folder_format">
                                    Folder Format:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" id="folder_format" name="folder_format" value="${config['folder_format']}" 
                                    title="<strong>artist</strong> = artist name<br />
                                    <strong>album</strong> = album name<br />
                                    <strong>year</strong> = year released<br />
                                    <strong>first</strong> = upper case first letter in artist name<br />
                                    <strong>lowerfirst</strong> = lower case first letter in artist name" />
                            </dd>
                        </dl>     
                        <div id="folder_format_example" class="display_example">
                        </div>
                        <dl>
                            <dt>
                                <label for="file_format">
                                    File Format:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" id="file_format" name="file_format" value="${config['file_format']}" 
                                    title="<strong>tracknumber</strong> = track number<br />
                                    <strong>title</strong> = song title<br />
                                    <strong>artist</strong> = recording artist<br />
                                    <strong>album</strong> = album name<br />
                                    <strong>year</strong> = release date" />
                            </dd>
                        </dl>     
                        <div id="file_format_example" class="display_example">
                        </div>  
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Miscellaneous
                        </legend>
                        <p class="legend_description">
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="include_extras">
                                    Automatically Include Extras When Adding an Artist:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="include_extras"name="include_extras" value="1" ${config['include_extras']} title="(EPs, Compilations, Live Albums, Remix Albums and Singles)" />
                            </dd>
                        </dl>  
                        <dl>
                            <dt>
                                <label for="interface">
                                    Interface:
                                </label>
                            </dt>
                            <dd>
                                <select name="interface" id="interface" title="Change the way Headphones looks - core functionality remains the same">
                                    %for interface in config['interface_list']:
                                        <%
                                                if interface == headphones.INTERFACE:
                                                        selected = 'selected="selected"'
                                                else:
                                                        selected = ''
                                        %>
                                        <option value="${interface}" ${selected}>
                                            ${interface}
                                        </option>
                                    %endfor
                                </select>
                            </dd>
                        </dl>       
                        <dl>
                            <dt>
                                <label for="log_dir">
                                    Log Directory:
                                </label>
                            </dt>
                            <dd>
                                <input type="text" id="log_dir" name="log_dir" value="${config['log_dir']}" />
                            </dd>
                        </dl>  
                    </div>
                </fieldset>
                <fieldset>
                    <div class="form_description">
                        <legend>
                            Re-Encoding Options
                        </legend>
                        <p class="legend_description">
                        </p>
                    </div>                     
                    <div class="form_content"> 
                        <dl>
                            <dt>
                                <label for="encode">
                                    Re-encode downloads during postprocessing:
                                </label>
                            </dt>
                            <dd>
                                <input type="checkbox" id="encode" name="encode" value="1" ${config['encode']} title="Note: this option requires the lame or ffmpeg encoder" />
                            </dd>
                        </dl>  
                        <div id="encode_details" class="extra_detail">
                            <dl>
                                <dt>
                                    <label for="encoderlossless">
                                        Only re-encode lossless files (.flac):
                                    </label>
                                </dt>
                                <dd>
                                    <input type="checkbox" id="encoderlossless" name="encoderlossless" value="1" ${config['encoderlossless']}/>
                                </dd>
                            </dl>                         
                            <dl>
                                <dt>
                                    <label for="encoder">
                                        Encoder:
                                    </label>
                                </dt>
                                    <dd>
                                        <%
                                            if config['encoder'] == 'lame':
                                                lameselect = 'selected="selected"'
                                                ffmpegselect = ''
                                            else:
                                                lameselect = ''
                                                ffmpegselect = 'selected="selected"'
                                        %>
                                        <select name="encoder" id="encoder">
                                            <option value="lame" ${lameselect}>
                                                lame
                                            </option>
                                            <option value="ffmpeg" ${ffmpegselect}>
                                                ffmpeg
                                            </option>
                                        </select>
                                    </dd>
                                </dl> 
                                <dl>
                                    <dt>
                                        <label for="encoderoutputformat">
                                            Format:
                                        </label>
                                    </dt>
                                    <dd>
                                        <select name="encoderoutputformat" id="encoderoutputformat">
                                        %for x in ['mp3', 'ogg', 'm4a']:
                                                <%
                                                    if config['encoderoutputformat'] == x:
                                                        outputselect = 'selected="selected"'
                                                    else:
                                                        outputselect = ''
                                                %>
                                                <option id="encoderoutputformat_${x}" value="${x}" ${outputselect}>
                                                    ${x}
                                                </option>
                                        %endfor
                                        </select>
                                    </dd>
                                </dl> 
                                <dl>
                                    <dt>
                                        <label for="use_advanced_encoding">
                                            Use advanced encoding options:
                                        </label>
                                    </dt>
                                    <dd>
                                        <input type="checkbox" id="use_advanced_encoding" name="use_advanced_encoding" value="1" ${config['use_advanced_encoding']} />
                                    </dd>
                                </dl> 
                                <div id="standard_audio_details" class="extra_detail">
                                    <dl>
                                        <dt>
                                            <label for="encodervbrcbr">
                                                VBR/CBR:
                                            </label>
                                        </dt>
                                        <dd>
                                            <select name="encodervbrcbr" id="encodervbrcbr">
                                            %for x in ['cbr', 'vbr']:
                                                <%
                                                    if config['encodervbrcbr'] == x:
                                                        outputselect = 'selected="selected"'
                                                    else:
                                                        outputselect = ''
                                                %>
                                                <option id="encodervbrcbr_${x}" value="${x}" ${outputselect}>
                                                    ${x}
                                                </option>
                                            %endfor
                                            </select>
                                        </dd>
                                    </dl>                                 
                                    
                                    <dl id="encoderquality_container">
                                        <dt>
                                            <label for="encoderquality">
                                                Quality:
                                            </label>
                                        </dt>
                                        <dd>
                                            <select name="encoderquality" id="encoderquality">
                                            %for x in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]:
                                                <%
                                                    if config['encoderquality'] == x:
                                                        outputselect = 'selected="selected"'
                                                    else:
                                                        outputselect = ''
                                                %>
                                                <option value="${x}" ${outputselect}>
                                                    ${x}
                                                </option>
                                            %endfor
                                            </select>
                                        </dd>
                                    </dl> 
                                
                                    <dl id="bitrate_container">
                                        <dt>
                                            <label for="bitrate">
                                                Bitrate:
                                            </label>
                                        </dt>
                                        <dd>
                                            <select name="bitrate" id="bitrate">
                                            %for x in [64, 128, 192, 256, 320]:
                                                <%
                                                    if config["bitrate"] == x:
                                                        outputselect = "selected"
                                                    else:
                                                        outputselect = ''
                                                %>      
                                                <option value="${x}" ${outputselect}>
                                                    ${x} kbps
                                                </option>
                                            %endfor
                                            </select>
                                        </dd>
                                    </dl>     
                                    <dl id="samplingfrequency_container">
                                        <dt>
                                            <label for="samplingfrequency">
                                                Sampling:
                                            </label>
                                        </dt>
                                        <dd>
                                            <%
                                                    if config["samplingfrequency"] == 44100:
                                                            freq44100 = 'selected="selected"'
                                                            freq48000 = ''
                                                    else:
                                                            freq44100 = ''
                                                            freq48000 = 'selected="selected"'
                                            %>
                                            <select id="samplingfrequency" name="samplingfrequency">
                                                    <option value="44100" ${freq44100}>
                                                        44.1 kHz
                                                    </option>
                                                    <option value="48000" ${freq48000}>
                                                        48.0 kHz
                                                    </option>
                                            </select>
                                        </dd>
                                    </dl>  
                                </div>
                                <div id="advanced_encode_options_details" class="extra_detail">
                                    <dl>
                                        <dt>
                                            <label for="advancedencoder">
                                                Advance Encode Options:
                                            </label>
                                        </dt>
                                        <dd>
                                            <input type="text" id="advancedencoder" name="advancedencoder" value="${config['advancedencoder']}"  />
                                        </dd>
                                    </dl>
                                </div>
                                <dl>
                                    <dt>
                                        <label for="encoderfolder">
                                            Path to Encoder:
                                        </label>
                                    </dt>
                                    <dd>
                                        <input type="text" id="encoderfolder" name="encoderfolder" value="${config['encoderfolder']}"  />
                                    </dd>
                                </dl>  
                            </div>
                        </div>
                </fieldset>   

<<<<<<< HEAD
                <td>

                    <h3>NZBs.org UID: </h3>
                      <input type="text" name="nzbsorg_uid" value="${config['nzbsorg_uid']}" size="30" maxlength="40">
                    
                </td>

                <td>

                    <h3>NZBs.org Hash: </h3>
                      <input type="text" name="nzbsorg_hash" value="${config['nzbsorg_hash']}" size="36" maxlength="40">
                    
                </td>
            </tr>
			
			<tr>
                <td id="middle">
                    <h3>Newzbin: <input type="checkbox" name="newzbin" value="1" ${config['use_newzbin']} /></h3>
                </td>

                <td>
                    <h3>Newzbin UID: </h3>
                      <input type="text" name="newzbin_uid" value="${config['newzbin_uid']}" size="30" maxlength="40">
                    
                </td>

                <td>
                    <h3>Newzbin Password: </h3>
                      <input type="text" name="newzbin_password" value="${config['newzbin_pass']}" size="36" maxlength="40">
                </td>
            </tr>
            
            
		<tr>
                <td>
                    <h2>Torrent:</h2><br>
                </td>
            </tr>

		<tr>
		    <td id="middle">
                    <h3>Isohunt: <input type="checkbox" name="use_isohunt" value="1" ${config['use_isohunt']} /></h3><br>
                </td>

		    <td id="middle">
                    <h3>Mininova: <input type="checkbox" name="use_mininova" value="1" ${config['use_mininova']} /></h3><br>
                </td>
            </tr>

		<tr>
		    <td id="middle">
                    <h3>Kick Ass Torrents: <input type="checkbox" name="use_kat" value="1" ${config['use_kat']} /></h3>
                </td>
            </tr>
        </table>
	</div>
	<div class="table_wrapper">
        <a name="post_processing"><h1><u>Quality &amp; Post Processing</u></h1></a>

        <table class="configtable" summary="Quality & Post Processing">
            <tr>
                <td>
                	<h2>Album Quality:</h2><br>
                   	  <h4><input type="radio" name="preferred_quality" value="0" ${config['pref_qual_0']} /> Highest Quality excluding Lossless</h4>
                      <h4><input type="radio" name="preferred_quality" value="1" ${config['pref_qual_1']} /> Highest Quality including Lossless</h4>
                      <h4><input type="radio" name="preferred_quality" value="3" ${config['pref_qual_3']} /> Lossless Only</h4>
                      <h4><input type="radio" name="preferred_quality" value="2" ${config['pref_qual_2']} /> Preferred Bitrate:
    					<input type="text" name="preferred_bitrate" value="${config['pref_bitrate']}" size="3" maxlength="5" />kbps</h4>
                      	<i class="smalltext2"><input type="checkbox" name="detect_bitrate" value="1" ${config['detect_bitrate']} />Auto-Detect Preferred Bitrate </i>
                </td>
                <td>
                      <h2>Post-Processing:</h2>
                      	<h4><input type="checkbox" name="move_files" value="1" ${config['move_files']} /> Move downloads to Destination Folder</h4>
                      	<h4><input type="checkbox" name="rename_files" value="1" ${config['rename_files']} /> Rename files</h4>
                        <h4><input type="checkbox" name="correct_metadata" value="1" ${config['correct_metadata']} /> Correct metadata</h4>
                        <h4><input type="checkbox" name="cleanup_files" value="1" ${config['cleanup_files']} /> Delete leftover files (.m3u, .nfo, .sfv, .nzb, etc.)</h4>
                      	<h4><input type="checkbox" name="add_album_art" value="1" ${config['add_album_art']}> Add album art as 'folder.jpg' to album folder</h4>
                      	<h4><input type="checkbox" name="embed_album_art" value="1" ${config['embed_album_art']}> Embed album art in each file</h4>
                      	<h4><input type="checkbox" name="embed_lyrics" value="1" ${config['embed_lyrics']}> Embed lyrics</h4>
                </td>
            </tr>

            <tr>
                <td>
                    <br>

                    <h3>Path to Destination folder:</h3><input type="text" name="destination_dir" value="${config['dest_dir']}" size="50">
                      <br>
                      <i class="smalltext">i.e. /Users/name/Music/iTunes or /Volumes/share/music</i>
                </td>
            </tr>
		</table>
	</div>
	<div class="table_wrapper">
        <a name="advanced_settings"><h1><u>Advanced Settings</u></h1></a>
        
        <table class="configtable" summary="Advanced Settings">
            <tr>
                <td>
                	<h2>Renaming Options:</h2>
					<br>
                    <h3>Folder Format:</h3><input type="text" name="folder_format" value="${config['folder_format']}" size="43"><br>
                      <i class="smalltext">Use: artist, album, year, releasetype and first (first letter in artist name)<br />
                      				E.g.: first/artist/album [year] = G/Girl Talk/All Day [2010]</i>
                    <br><br>
                    <h3>File Format:</h3><input type="text" name="file_format" value="${config['file_format']}" size="43">
                      <br>
                      <i class="smalltext">Use: tracknumber, title, artist, album and year</i>
                </td>
                <td>
                      <h2>Miscellaneous:</h2>
						<br>
                      	<h3><input type="checkbox" name="include_extras" value="1" ${config['include_extras']} />Automatically Include Extras When Adding an Artist</h3>
                      <i class="smalltext">(EPs, Compilations, Live Albums, Remix Albums and Singles)</i>
					<br><br>
					<h3>Interface: <select name="interface"><h3>
					%for interface in config['interface_list']:
						<%
							if interface == headphones.INTERFACE:
								selected = 'selected="selected"'
							else:
								selected = ''
						%>
						<option value="${interface}" ${selected}>${interface}</option>
					%endfor
					</select>
					<br><br>
                    <h3>Log Directory:</h3><input type="text" name="log_dir" value="${config['log_dir']}" size="50">
                </td>
		<td>
			<h2>Auto Wanted:</h2>
			<br>
                      	<h4><input type="checkbox" name="autowant_album" value="1" ${config['autowant_album']} /> Automatic set Albums as Wanted</h4>
			<h4><input type="checkbox" name="autowant_single" value="1" ${config['autowant_single']} /> Automatic set Singles as Wanted</h4>
                        <h4><input type="checkbox" name="autowant_compilation" value="1" ${config['autowant_compilation']} /> Automatic set Compilations as Wanted</h4>
                        <h4><input type="checkbox" name="autowant_remix" value="1" ${config['autowant_remix']} /> Automatic set Remixes as Wanted</h4>
                      	<h4><input type="checkbox" name="autowant_ep" value="1" ${config['autowant_ep']}> Automatic set EP's as Wanted</h4>
                        <h4><input type="checkbox" name="autowant_live" value="1" ${config['autowant_live']} /> Automatic set Live album as Wanted</h4>
                      	<h4><input type="checkbox" name="autowant_soundtrack" value="1" ${config['autowant_soundtrack']}> Automatic set Soundtracks as Wanted</h4>
			<i class="smalltext">(When adding a new artist)</i>
		</td>
            </tr>
            <tr>
                <td>
                      <h2>Re-Encoding Options:</h2>
                      <i class="smalltext">Note: this option requires the lame or ffmpeg encoder</i>
						<br><br>
                      	<h3><input type="checkbox" name="encode" id="encode" value="1" ${config['encode']}/> Re-encode downloads during postprocessing</h3>
                    	<br>
                    <div id="encoderoptions">
                      	<h4><input type="checkbox" name="encoderlossless" value="1" ${config['encoderlossless']}/> Only re-encode lossless files (.flac)</h4>                      
					<br>
					<%
						if config['encoder'] == 'lame':
							lameselect = 'selected="selected"'
							ffmpegselect = ''
						else:
							lameselect = ''
							ffmpegselect = 'selected="selected"'
					%>
					<h4>Encoder: <select name="encoder">
						<option value="lame" ${lameselect}>lame</option>
						<option value="ffmpeg" ${ffmpegselect}>ffmpeg</option>
					</select>

					Format: <select name="encoderoutputformat">
					%for x in ['mp3', 'ogg', 'm4a']:
						<%
							if config['encoderoutputformat'] == x:
								outputselect = 'selected'
							else:
								outputselect = ''
						%>
						<option value=${x} ${outputselect}>${x}</option>
					%endfor
					</select></h4>
					<br>
					
					<h3>Audio Properties:</h3>
					<br>
					<h4>VBR/CBR: <select name="encodervbrcbr">
					%for x in ['cbr', 'vbr']:
						<%
							if config['encodervbrcbr'] == x:
								outputselect = 'selected'
							else:
								outputselect = ''
						%>
						<option value=${x} ${outputselect}>${x}</option>
					%endfor
					</select>
=======
            </div>  
        </div>
        <p class="center">
            <input type="submit" id="submit" value="Save Changes">
        </p>
    </form> 
        
    
    <div class="overlay " id="add_newznab">
  
        <img src="images/headphoneslogo.png" style="float: left; margin:-5px 13px 0 -3px;" />
        <h2>
            Add Newznab Site
        </h2>
        <p>
            Add the details of the Newznab site below.
        </p>
>>>>>>> martynhaigh/configUpdate

        <!-- input form. you can press enter too -->
        <form id="add_newznab_form">
            <p>
                <label for="add_newznab_name">
                    Name:
                </label>
                <input id="add_newznab_name" type="text" required="required" pattern="[a-zA-Z ]{5,}" maxlength="30" value="testdata" />
            </p>
            <p>
                <label for="add_newznab_url">
                    URL:
                </label>
                <input id="add_newznab_url" type="url" required="required" value="https://testdata" />
            </p>
            <p>    
                <label for="add_newznab_apikey">
                    API Key:
                </label>
                <input id="add_newznab_apikey" type="text" required="required" pattern="[a-zA-Z ]{5,}" maxlength="30" value="sdfsdf"/>
            </p>
            <p class="action">
                <button type="submit">
                    OK 
                </button>
            </p>
        </form>
        <br />

<<<<<<< HEAD
					<br>
					<h4>Bitrate: <select name="bitrate">
					%for x in [64, 128, 192, 256, 320]:
						<%
							if config["bitrate"] == x:
								bitrateselected = "selected"
							else:
								bitrateselected = ''
						%>	
						<option value=${x} ${bitrateselected}> ${x} kbps</option>
					%endfor
					</select>
					
					<%
						if config["samplingfrequency"] == 44100:
							freq44100 = 'selected="selected"'
							freq48000 = ''
						else:
							freq44100 = ''
							freq48000 = 'selected="selected"'
					%>
					Sampling: <select name="samplingfrequency">
						<option value=44100 ${freq44100}>44.1 kHz</option>
						<option value=48000 ${freq48000}>48.0 kHz</option>
					</select></h4>
					<br>
					<br>					
                    <h3>Advanced Encoding Options:</h3>
					<h4>
					(ignores audio properties)
					</h4>
					<input type="text" name="advancedencoder" value="${config['advancedencoder']}" size="43">
					<br>
                    <h3>Path to Encoder:</h3><input type="text" name="encoderfolder" value="${config['encoderfolder']}" size="43">
                	</div>
                </td>
		        <td>
                      <h2>Prowl Notification:</h2><br>
                      <h3><input type="checkbox" name="prowl_enabled" id="prowl" value="1" ${config['prowl_enabled']} />Enable Prowl Notifications</h3><br>
                      <div id="prowloptions">
		      	        <h3>API key:</h3><input type="text" name="prowl_keys" value="${config['prowl_keys']}" size="50"><br><br>
                      	<h3><input type="checkbox" name="prowl_onsnatch" value="1" ${config['prowl_onsnatch']} />Notify on snatch?</h3><br>
                      	<h3>Priority (-2,-1,0,1 or 2):</h3><input type="text" name="prowl_priority" value="${config['prowl_priority']}" size="2">
                      </div>
		        </td>
            </tr>
            <tr>
				<td>
					<h3>Muscbrainz Mirror: <select name="mirror" id="mirror"><h3>
					%for mirror in config['mirror_list']:
						<%
							if mirror == headphones.MIRROR:
								selected = 'selected="selected"'
							else:
								selected = ''
						%>
						<option value="${mirror}" ${selected}>${mirror}</option>
					%endfor
					</select>
					
					<div id="customoptions">
					<h3>Host:<br><input type="text" name="customhost" value="${config['customhost']}" size="20"></h3>
					<h3>Port:<br><input type="text" name="customport" value="${config['customport']}" size="8"></h3>
					<h3>Sleep Interval:<br><input type="text" name="customsleep" value="${config['customsleep']}" size="4"></h3>
					</div>
					
					<div id="hpserveroptions">
					<h3>Username:<br><input type="text" name="hpuser" value="${config['hpuser']}" size="20"></h3>
					<h3>Password:<br><input type="password" name="hppass" value="${config['hppass']}" size="15"></h3>
					<i class="smalltext2"><a href="http://headphones.codeshy.com/vip">Get an Account</a></p>
					</div>
        </table>
    </div>

        <p class="center"><input type="submit" value="Save Changes"><br>
        (Web Interface changes require a restart to take effect)</h3>
      </form>
</%def>

<%def name="javascriptIncludes()">
	<script>
	
	hideServerDivs = function () {
		$("#customoptions").hide("fast");
		$("#hpserveroptions").hide("fast");
	};
	
	handleNewSelection = function () {
	
		hideServerDivs();
		
		switch ($(this).val()) {
			case 'custom':
				$("#customoptions").show("fast");
			break;
			case 'headphones':
				$("#hpserveroptions").show("fast");
			break;
		}
	};
	

	$(document).ready(function()
	{
		if ($("#encode").is(":checked"))
			{
				$("#encoderoptions").show();
			}
		else
			{
				$("#encoderoptions").hide();
			}
		
		$("#encode").click(function(){
			if ($("#encode").is(":checked"))
			{
				$("#encoderoptions").show("fast");
			}
			else
			{
				$("#encoderoptions").hide("fast");
			}
		});

		if ($("#prowl").is(":checked"))
			{
				$("#prowloptions").show();
			}
		else
			{
				$("#prowloptions").hide();
			}
		
		$("#prowl").click(function(){
			if ($("#prowl").is(":checked"))
			{
				$("#prowloptions").show("fast");
			}
			else
			{
				$("#prowloptions").hide("fast");
			}
		});		
		
		$("#mirror").change(handleNewSelection);
		handleNewSelection.apply($("#mirror"));

	});
	
	</script>
</%def>
=======
    </div>
    <div id="floating_next">Go to<br /><span /></div>
    
    <div id="floating_prev">Go to<br /><span /></div>
</%def>

<%def name="javascriptIncludes()">
    <!-- replace for release -->
    <!--script src="http://cdn.jquerytools.org/1.2.5/all/jquery.tools.min.js">
</script-->
    <script>!window.jQuery.tools && document.write(unescape('%3Cscript src="js/libs/jquery.tools.min.js"%3E%3C/script%3E'))</script>
    
    <script src="js/libs/jquery.dataTables.min.js"></script>

    <script src="js/config.js"></script>
</%def>

>>>>>>> martynhaigh/configUpdate
